<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elite Dangerous Mining Helper</title>
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/css/style.css" type="text/css">
    <link rel="stylesheet" href="/css/tables.css" type="text/css">
    <link rel="stylesheet" href="/css/table-acquisition.css" type="text/css">
    <link rel="stylesheet" href="/css/searchform.css" type="text/css">
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CZ2CC82Z1K"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CZ2CC82Z1K');
</script>
<body>
    <div class="container">
        <div class="header">
            <h1>Elite Dangerous Merit Miner | Web Version</h1>
            <div class="kofi-button">
                <script type='text/javascript' src='https://storage.ko-fi.com/cdn/widget/Widget_2.js'></script>
                <script type='text/javascript'>kofiwidget2.init('Support me on Ko-fi', '#0096e1', 'H2H618T1H5');kofiwidget2.draw();</script>
            </div>
        </div>
        
        <div class="search-container">
            <div class="search-menu">
                <button class="search-menu-button active" data-id="mine-for-merits">
                    <img src="/img/icons/menu/7-merits.svg" alt="Mine for Merits">
                    <span>Mine for<br>Merits</span>
                </button>
                <button class="search-menu-button" data-id="how-to">
                    <img src="/img/icons/menu/8-how-to.svg" alt="Highest Prices">
                    <span>How<br>to</span>
                </button>
                <button class="search-menu-button" data-id="system-finder">
                    <img src="/img/icons/menu/2-system.svg" alt="System Finder">
                    <span>System<br>Finder</span>
                </button>
                <button class="search-menu-button" data-id="res-hotspots">
                    <img src="/img/icons/menu/4-res.svg" alt="Res Hotspots">
                    <span>Res<br>Hotspots</span>
                </button>
                <button class="search-menu-button" data-id="platinum-spots">
                    <img src="/img/icons/menu/5-platinum.svg" alt="Platinum Spots++">
                    <span>Platinum<br>Spots++</span>
                </button>
            </div>

            <form class="search-form" id="searchForm">
                <div class="form-row">
                    <div class="form-group inline-group">
                        <label for="system">Reference System:</label>
                        <div id="systemAutocomplete">
                            <input type="text" id="system" name="system" value="Sol" required>
                            <div class="autocomplete-results"></div>
                        </div>
                    </div>
                    <div class="form-group inline-group">
                        <label for="distance">Distance:</label>
                        <div class="distance-container">
                            <input type="range" id="distance" name="distance" class="distance-slider" value="200" min="0" max="500">
                            <span class="distance-value">200 ly</span>
                        </div>
                    </div>
                    <div class="form-group inline-group">
                        <label for="limit">Search results:</label>
                        <div class="limit-container">
                            <input type="range" id="limit" name="limit" class="limit-slider" value="30" min="1" max="60">
                            <span class="input-value">30</span>
                        </div>
                    </div>
                    <!---
                    <div class="form-group inline-group compare-group">
                        <label class="compare-label">Price<br>comparison:</label>
                        <div class="toggle-switch" onclick="togglePriceReference()">
                            <span id="avgPriceToggle" class="active">Avg</span>
                            <span id="maxPriceToggle">Max</span>
                        </div>
                    </div>
                    -->
                </div>
                
                <div class="form-row">
                    <div class="form-group inline-group">
                        <label for="controlling_power">Your Power:</label>
                        <select id="controlling_power" name="controlling_power">
                            <option value="Any" selected>Any</option>
                            <option value="Archon Delaine">Archon Delaine</option>
                            <option value="A. Lavigny-Duval">A. Lavigny-Duval</option>
                            <option value="Aisling Duval">Aisling Duval</option>
                            <option value="Denton Patreus">Denton Patreus</option>
                            <option value="Edmund Mahon">Edmund Mahon</option>
                            <option value="Felicia Winters">Felicia Winters</option>
                            <option value="Jerome Archer">Jerome Archer</option>
                            <option value="Li Yong-Rui">Li Yong-Rui</option>
                            <option value="Nakato Kaine">Nakato Kaine</option>
                            <option value="Pranav Antal">Pranav Antal</option>
                            <option value="Yuri Grom">Yuri Grom</option>
                            <option value="Zemina Torval">Zemina Torval</option>
                            <option value="None">None</option>
                        </select>
                    </div>
                    <div class="form-group inline-group power-goal-group">
                        <label for="power_goal">Power Goal:</label>
                        <select id="power_goal" name="power_goal">
                            <option value="Acquire">Acquire</option>
                            <option value="Reinforce" selected>Reinforce</option>
                            <option value="Undermine">Undermine</option>
                        </select>
                    </div>
                    <div class="form-group inline-group opposing-power-group">
                        <label for="opposing_power">Opposing Power:</label>
                        <select id="opposing_power" name="opposing_power">
                            <option value="Any" selected>Any</option>
                            <option value="Archon Delaine">Archon Delaine</option>
                            <option value="A. Lavigny-Duval">A. Lavigny-Duval</option>
                            <option value="Aisling Duval">Aisling Duval</option>
                            <option value="Denton Patreus">Denton Patreus</option>
                            <option value="Edmund Mahon">Edmund Mahon</option>
                            <option value="Felicia Winters">Felicia Winters</option>
                            <option value="Jerome Archer">Jerome Archer</option>
                            <option value="Li Yong-Rui">Li Yong-Rui</option>
                            <option value="Nakato Kaine">Nakato Kaine</option>
                            <option value="Pranav Antal">Pranav Antal</option>
                            <option value="Yuri Grom">Yuri Grom</option>
                            <option value="Zemina Torval">Zemina Torval</option>
                            <option value="One">One</option>
                            <option value="Two">Two</option>
                            <option value="Multiple">Multiple</option>
                            <option value="None">None</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group inline-group">
                        <label for="signal_type">Mineral/Metal:</label>
                        <select id="signal_type" name="signal_type" required>
                                <option value="Any">Any</option>
                            <optgroup label="Minerals">
                                <option value="Alexandrite">Alexandrite</option>
                                <option value="Bauxite">Bauxite</option>
                                <option value="Benitoite">Benitoite</option>
                                <option value="Bertrandite">Bertrandite</option>
                                <option value="Bromellite">Bromellite</option>
                                <option value="Coltan">Coltan</option>
                                <option value="Cryolite">Cryolite</option>
                                <option value="Gallite">Gallite</option>
                                <option value="Goslarite">Goslarite</option>
                                <option value="Grandidierite">Grandidierite</option>
                                <option value="Indite">Indite</option>
                                <option value="Jadeite">Jadeite</option>
                                <option value="Lepidolite">Lepidolite</option>
                                <option value="Lithium Hydroxide">Lithium Hydroxide</option>
                                <option value="Low Temperature Diamonds">Low Temperature Diamonds</option>
                                <option value="Methane Clathrate">Methane Clathrate</option>
                                <option value="Methanol Monohydrate Crystals">Methanol Monohydrate Crystals</option>
                                <option value="Moissanite">Moissanite</option>
                                <option value="Monazite" selected>Monazite</option>
                                <option value="Musgravite">Musgravite</option>
                                <option value="Painite">Painite</option>
                                <option value="Pyrophyllite">Pyrophyllite</option>
                                <option value="Rhodplumsite">Rhodplumsite</option>
                                <option value="Rutile">Rutile</option>
                                <option value="Serendibite">Serendibite</option>
                                <option value="Taaffeite">Taaffeite</option>
                                <option value="Uraninite">Uraninite</option>
                                <option value="Void Opal">Void Opal</option>
                            </optgroup>
                            <optgroup label="Metals">
                                <option value="Aluminium">Aluminium</option>
                                <option value="Beryllium">Beryllium</option>
                                <option value="Bismuth">Bismuth</option>
                                <option value="Cobalt">Cobalt</option>
                                <option value="Copper">Copper</option>
                                <option value="Gallium">Gallium</option>
                                <option value="Gold">Gold</option>
                                <option value="Hafnium 178">Hafnium 178</option>
                                <option value="Indium">Indium</option>
                                <option value="Lanthanum">Lanthanum</option>
                                <option value="Lithium">Lithium</option>
                                <option value="Osmium">Osmium</option>
                                <option value="Palladium">Palladium</option>
                                <option value="Platinum">Platinum</option>
                                <option value="Praseodymium">Praseodymium</option>
                                <option value="Samarium">Samarium</option>
                                <option value="Silver">Silver</option>
                                <option value="Tantalum">Tantalum</option>
                                <option value="Thallium">Thallium</option>
                                <option value="Thorium">Thorium</option>
                                <option value="Titanium">Titanium</option>
                                <option value="Uranium">Uranium</option>
                            </optgroup>
                        </select>
                    </div>
                    <div class="form-group inline-group">
                        <label for="ring_type_filter">Ring Type:</label>
                        <select id="ring_type_filter" name="ring_type_filter">
                            <option value="All">All</option>
                            <option value="Hotspots" selected>Hotspots</option>
                            <option value="Without Hotspots">Without Hotspots</option>
                            <option value="Rocky">Rocky</option>
                            <option value="Metal Rich">Metal Rich</option>
                            <option value="Metallic">Metallic</option>
                            <option value="Icy">Icy</option>
                        </select>
                    </div>
                    <div class="form-group inline-group">
                        <label for="reserve_level">Reserve Level:</label>
                        <select id="reserve_level" name="reserve_level">
                            <option value="All" selected>All</option>
                            <option value="Pristine">Pristine</option>
                            <option value="Major">Major</option>
                            <option value="Common">Common</option>
                            <option value="Low">Low</option>
                            <option value="Depleted">Depleted</option>
                            <option value="Unknown">Unknown</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group mining-type-group">
                        <label for="miningTypeInput">Mining Type:</label>
                        <div class="materials-input-container">
                            <div class="materials-wrapper">
                                <div class="selected-mining-types"></div>
                                <input type="text" class="materials-input" id="miningTypeInput" placeholder="Type to add mining types...">
                            </div>
                            <div id="miningTypeAutocomplete" class="autocomplete-results" style="display: none;"></div>
                        </div>
                    </div>
                    <div class="form-group demand-group">
                        <label for="minDemand">Min. Demand:</label>
                        <input type="number" id="minDemand" name="minDemand" value="0" min="0" class="demand-input">
                    </div>
                    <div class="form-group landing-pad-group">
                        <label for="landingPadSize">Landing <br/>Pad Size:</label>
                        <select id="landingPadSize" name="landingPadSize">
                            <option value="Any" selected>Any</option>
                            <option value="S">S</option>
                            <option value="M">M</option>
                            <option value="L">L</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group mining-input-group">
                        <label for="materialsInput">Add mineral/metal:</label>
                        <div class="materials-input-container">
                            <div class="materials-wrapper">
                                <div class="selected-materials"></div>
                                <input type="text" class="materials-input" id="materialsInput" placeholder="Type to add minerals/metals...">
                            </div>
                            <div id="materialsAutocomplete" class="autocomplete-results" style="display: none;"></div>
                        </div>
                    </div>
                    <div class="form-group demand-group">
                        <label for="maxDemand">Max. Demand:</label>
                        <input type="number" id="maxDemand" name="maxDemand" value="90000" min="0" class="demand-input">
                    </div>
                    <div class="form-group system-state-group">
                        <label for="systemStateInput">System<br/> State:</label>
                        <div class="system-state-input-container">
                            <div class="system-state-wrapper">
                                <div class="selected-system-states"></div>
                                <input type="text" class="system-state-input" id="systemStateInput" placeholder="Add state...">
                            </div>
                            <div id="systemStateAutocomplete" class="autocomplete-results" style="display: none;"></div>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <button type="submit" class="btn btn-primary mainSearchButton">Search</button>
                    <button type="button" class="btn btn-info highestPricesButton" onclick="searchHighest(event)">Overview</button>
                    <button type="button" style="display: none;" class="btn btn-info resSearchButton" onclick="searchResHotspots()">Search Res Hotspot Overlaps</button>
                    <button type="button" style="display: none;" class="btn btn-info platinumSearchButton" onclick="searchHighYieldPlatinum()">Search High Yield Platinum Spots</button>
                    <button type="button" class="btn btn-reset" onclick="formStorage.clearStorage()">Reset</button>
                    <div class="status-container">
                        <div class="notice-status">
                            <div class="notice-line">⚠️ Long/failing queries with "Any" mineral/metal are being worked on.</div>
                            <div class="notice-line">✔️ Fix for wrong ring results w. "All"+ certain mining types done.</div>
                        </div>
                        <div class="eddn-status">
                            <div class="eddn-title">EDDN Live Update:</div>
                            <div class="status-indicator">
                                <div class="status-circle eddn-circle"></div>
                                <div class="status-text eddn-text">Offline</div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <div class="loading-overlay"></div>
        <div class="loading">
            <div id="spinner-container"></div>
            <div style="padding-top: 100px;">Searching systems...</div>
        </div>
        
        <!-- Search results -->
        <div id="resultsContainer">
            <table id="resultsTable" class="results-table" style="display: none; width: 100%;">
                <thead>
                    <tr>
                        <th>System</th>
                        <th>DST</th>
                        <th>Ring Details</th>
                        <th>Stations</th>
                        <th>State</th>
                        <th>Power</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
    </div>

    <script src="/js/autocomplete.js" type="text/javascript"></script>
    <script src="/img/loading/spinner.js" type="text/javascript"></script>
    <script src="/js/storage.js" type="module"></script>
    <script src="/js/menu.js" type="text/javascript"></script>
    <script src="/js/search.js" type="module"></script>
    <script src="/js/search_common.js" type="module"></script>
    <script src="/js/search_special.js" type="module"></script>
    <script src="/js/websocket.js" type="text/javascript"></script>
</body>
</html> 